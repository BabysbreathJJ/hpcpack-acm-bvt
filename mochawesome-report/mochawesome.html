<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:4,&quot;passes&quot;:3,&quot;pending&quot;:0,&quot;failures&quot;:1,&quot;start&quot;:&quot;2018-06-03T12:42:33.828Z&quot;,&quot;end&quot;:&quot;2018-06-03T12:45:34.619Z&quot;,&quot;duration&quot;:180791,&quot;testsRegistered&quot;:4,&quot;passPercent&quot;:75,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;passPercentClass&quot;:&quot;warning&quot;,&quot;pendingPercentClass&quot;:&quot;danger&quot;},&quot;suites&quot;:{&quot;uuid&quot;:&quot;86d67dd4-fc1b-47f2-9643-5f6790b3efa5&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d4fcbfdb-c7e2-4a6c-ba08-4814ddd3a50e&quot;,&quot;title&quot;:&quot;Diag&quot;,&quot;fullFile&quot;:&quot;/Users/Lijingjing/dev/hpc-rest-bvt/test/diags.js&quot;,&quot;file&quot;:&quot;/test/diags.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Diag \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:293,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;api.get(&#x27;/nodes&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .end((err, res) =&gt; {\n        res.body.forEach(element =&gt; {\n            nodes.push(element.id);\n        });\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;16125af1-594c-46d0-ac6c-724190f5915e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should have nodes data&quot;,&quot;fullTitle&quot;:&quot;Diag should have nodes data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.isNotEmpty(nodes);\ndone();&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c906dcf5-38ff-4f49-b778-70e51c87341d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return diag tests list&quot;,&quot;fullTitle&quot;:&quot;Diag should return diag tests list&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;diagApi.get(&#x27;/tests&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .end((err, res) =&gt; {\n        assert.isArray(res.body);\n        if (res.body.length &gt; 0) {\n            test = res.body[0];\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fd2197fb-8f29-4bfe-a217-598a7404a85f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a new diag test&quot;,&quot;fullTitle&quot;:&quot;Diag should create a new diag test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:208,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (nodes.length &gt; 4) {\n    nodes = nodes.slice(0, 4);\n}\ndiagApi.post(&#x27;&#x27;)\n    .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n    .send({\n        name: &#x27;diag-BVT-test&#x27;,\n        targetNodes: nodes,\n        jobType: &#x27;diagnostics&#x27;,\n        diagnosticTest: test\n    })\n    .expect(201)\n    .end((err, res) =&gt; {\n        expect(res.headers.location).to.include(&#x27;/v1/diagnostics/&#x27;);\n        let locationData = res.headers.location.split(&#x27;/&#x27;);\n        jobId = locationData[locationData.length - 1];\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cff24b01-091a-4d03-9520-289a325a7f93&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should finish a diag test of 4 nodes in 3 minutes&quot;,&quot;fullTitle&quot;:&quot;Diag should finish a diag test of 4 nodes in 3 minutes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;setTimeout(function () {\n    diagApi.get(&#x27;/&#x27; + jobId)\n        .set(&#x27;Accept&#x27;, &#x27;application/json&#x27;)\n        .end((err, res) =&gt; {\n            expect(res.body.state).equal(&#x27;Finished&#x27;);\n            done();\n        });\n}, 180000)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected &#x27;Failed&#x27; to equal &#x27;Finished&#x27;&quot;,&quot;estack&quot;:&quot;AssertionError: expected &#x27;Failed&#x27; to equal &#x27;Finished&#x27;\n    at Test.diagApi.get.set.end (test/diags.js:70:44)\n    at Test.assert (node_modules/supertest/lib/test.js:181:6)\n    at assert (node_modules/supertest/lib/test.js:131:12)\n    at /Users/Lijingjing/dev/hpc-rest-bvt/node_modules/supertest/lib/test.js:128:5\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:706:12)\n    at parser (node_modules/superagent/lib/node/index.js:906:18)\n    at IncomingMessage.res.on.e (node_modules/superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:974:12)\n    at _combinedTickCallback (internal/process/next_tick.js:74:11)\n    at process._tickCallback (internal/process/next_tick.js:98:9)&quot;,&quot;diff&quot;:&quot;- Failed\n+ Finished\n&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1bb7e716-fc18-4afc-be8d-ba7c23d3d445&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c906dcf5-38ff-4f49-b778-70e51c87341d&quot;,&quot;fd2197fb-8f29-4bfe-a217-598a7404a85f&quot;,&quot;cff24b01-091a-4d03-9520-289a325a7f93&quot;],&quot;failures&quot;:[&quot;1bb7e716-fc18-4afc-be8d-ba7c23d3d445&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:null,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},&quot;copyrightYear&quot;:2018}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;hpc-rest-bvt&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/Lijingjing/dev/hpc-rest-bvt/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/Lijingjing/dev/hpc-rest-bvt/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>